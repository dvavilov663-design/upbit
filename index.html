<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ubbit Exchange</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω */
    body {
      background: linear-gradient(270deg, #0f172a, #1e3a8a, #06b6d4, #0f172a);
      background-size: 800% 800%;
      animation: gradientBG 20s ease infinite;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    /* Glass —ç—Ñ—Ñ–µ–∫—Ç */
    .glass { background: rgba(255,255,255,0.05); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.15); }
    /* –ú–æ–¥–∞–ª–∫–∞ */
    .modal { display: none; position: fixed; z-index: 50; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); align-items: center; justify-content: center; backdrop-filter: blur(6px); }
    .modal-content { background: rgba(255,255,255,0.95); padding: 2rem; border-radius: 1rem; max-width: 600px; width: 100%; color: #0f172a; box-shadow: 0 10px 30px rgba(0,0,0,0.2); animation: fadeIn 0.4s ease; }
    /* –ö–Ω–æ–ø–∫–∏ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º */
    .btn-gradient { background: linear-gradient(90deg,#3b82f6,#06b6d4,#3b82f6); background-size: 200% 200%; animation: gradientMove 4s infinite alternate; transition: all 0.3s ease; }
    .btn-gradient:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 0 25px rgba(6,182,212,0.6); }
    @keyframes gradientMove { from { background-position: 0% 50%; } to { background-position: 100% 50%; } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body class="text-white flex flex-col min-h-screen font-sans">

  <!-- Header -->
  <header class="glass flex flex-col md:flex-row md:justify-between md:items-center px-4 md:px-8 py-4 gap-4 md:gap-0">
    <h1 class="text-2xl md:text-3xl font-bold text-cyan-300 tracking-wide drop-shadow-lg">Ubbit</h1>
    <nav class="flex flex-wrap gap-4 text-gray-200 font-medium">
      <a href="#" class="hover:text-cyan-300 transition">–¢–æ—Ä–≥–∏</a>
      <a href="#" class="hover:text-cyan-300 transition" onclick="openConverter()">–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è</a>
      <a href="#" class="hover:text-cyan-300 transition" onclick="openWallet()">–ö–æ—à–µ–ª–µ–∫</a>
      <a href="#" class="hover:text-cyan-300 transition">–ü—Ä–æ—Ñ–∏–ª—å</a>
    </nav>
    <div class="flex items-center gap-4">
      <div class="text-gray-200 font-semibold text-sm md:text-base">üí∞ –ë–∞–ª–∞–Ω—Å: <span id="balance">10000</span> USDT</div>
      <button onclick="toggleTheme()" class="btn-gradient px-3 py-1 rounded-md text-sm text-white font-semibold">üåô/‚òÄÔ∏è</button>
    </div>
  </header>

  <!-- Main -->
  <main class="flex-1 grid grid-cols-1 lg:grid-cols-12 gap-6 p-6">

    <!-- Pairs -->
    <div class="lg:col-span-3 glass rounded-2xl shadow-xl p-4 overflow-y-auto max-h-[calc(100vh-160px)] animate-fadeIn">
      <h2 class="text-lg md:text-xl font-semibold mb-4 text-cyan-300">üî• –í—Å–µ –ø–∞—Ä—ã Binance</h2>
      <table id="pairsTable" class="w-full text-left text-gray-200 text-xs md:text-sm">
        <thead class="uppercase text-xs text-gray-400 sticky top-0 glass">
          <tr class="border-b border-cyan-500/30">
            <th class="py-2">–ü–∞—Ä–∞</th>
            <th class="py-2">–¶–µ–Ω–∞</th>
            <th class="py-2">24—á</th>
          </tr>
        </thead>
        <tbody id="pairsBody"></tbody>
      </table>
    </div>

    <!-- Chart -->
    <div class="lg:col-span-6 glass rounded-2xl shadow-xl p-4 flex flex-col animate-fadeIn">
      <h2 class="text-lg md:text-2xl font-semibold mb-4 text-cyan-300">üìà –ì—Ä–∞—Ñ–∏–∫</h2>
      <iframe id="tradingview_iframe" src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:BTCUSDT&interval=60&theme=dark&style=1&locale=ru"
        style="width:100%; height:600px; border-radius: 1rem;" frameborder="0" allowtransparency="true" scrolling="no"></iframe>
    </div>

    <!-- Right column -->
    <div class="lg:col-span-3 glass rounded-2xl shadow-xl p-4 overflow-y-auto max-h-[calc(100vh-160px)] animate-fadeIn">
      <h2 class="text-lg md:text-xl font-semibold mb-4 text-cyan-300">üèÜ –¢–æ–ø –∞–∫—Ç–∏–≤—ã</h2>
      <div id="topAssets" class="space-y-3 text-sm md:text-base"></div>
    </div>

  </main>

  <!-- Wallet Modal -->
  <div id="walletModal" class="modal flex">
    <div class="modal-content">
      <h2 class="text-2xl font-semibold mb-6 text-blue-600">üíº –ú–æ–π –∫–æ—à–µ–ª–µ–∫</h2>
      <div id="walletBalances" class="space-y-3 mb-6 text-gray-800"></div>
      <div class="flex gap-4 mb-6">
        <button onclick="openDeposit()" class="flex-1 py-3 btn-gradient text-white rounded-xl font-semibold">–î–µ–ø–æ–∑–∏—Ç</button>
        <button onclick="openWithdraw()" class="flex-1 py-3 bg-red-500 hover:bg-red-400 text-white rounded-xl font-semibold">–í—ã–≤–æ–¥</button>
      </div>
      <h3 class="text-lg font-semibold mb-3 text-blue-500">–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è</h3>
      <form onsubmit="convertCoins(event)" class="space-y-4">
        <div><label class="text-sm text-gray-600">–ò–∑</label><select id="walletFrom" class="w-full p-2 border rounded"></select></div>
        <div><label class="text-sm text-gray-600">–í</label><select id="walletTo" class="w-full p-2 border rounded"></select></div>
        <div><label class="text-sm text-gray-600">–°—É–º–º–∞</label><input type="number" id="walletAmount" class="w-full p-2 border rounded"/></div>
        <button type="submit" class="w-full py-2 btn-gradient text-white rounded-lg font-semibold">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
      </form>
      <div class="mt-6 text-right">
        <button onclick="closeWallet()" class="px-4 py-2 bg-gray-400 hover:bg-gray-300 rounded-md">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Deposit Modal -->
  <div id="depositModal" class="modal flex">
    <div class="modal-content">
      <h2 class="text-xl font-semibold mb-4 text-blue-600">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</h2>
      <p class="mb-2">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–Ω–µ—Ç—É –¥–ª—è –¥–µ–ø–æ–∑–∏—Ç–∞:</p>
      <select id="depositCoin" onchange="showDepositAddress()" class="w-full p-2 border rounded mb-4">
        <option value="">-- –í—ã–±—Ä–∞—Ç—å --</option>
        <option value="USDT">USDT</option>
        <option value="BNB">BNB</option>
        <option value="BTC">BTC</option>
        <option value="ETH">ETH</option>
      </select>
      <div id="depositAddress" class="p-3 bg-gray-100 rounded text-gray-800 font-mono"></div>
      <div class="mt-6 text-right">
        <button onclick="closeDeposit()" class="px-4 py-2 bg-gray-400 hover:bg-gray-300 rounded-md">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="glass text-gray-300 text-center py-6 text-sm md:text-base mt-6">
    <p>&copy; 2025 Ubbit. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <div class="flex justify-center gap-6 mt-3 text-gray-400 text-xs md:text-sm">
      <a href="#" class="hover:text-cyan-300 transition">–û –Ω–∞—Å</a>
      <a href="#" class="hover:text-cyan-300 transition">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
      <a href="#" class="hover:text-cyan-300 transition">API</a>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    let balance = 10000;
    document.getElementById('balance').innerText = balance;

    // –ë–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    let balances = { USDT: 10000, BTC: 0, ETH: 0, BNB: 0 };

    // –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
    function openWallet(){ renderWallet(); document.getElementById('walletModal').style.display = 'flex'; }
    function closeWallet(){ document.getElementById('walletModal').style.display = 'none'; }
    function openDeposit(){ document.getElementById('depositModal').style.display = 'flex'; }
    function closeDeposit(){ document.getElementById('depositModal').style.display = 'none'; }
    function openWithdraw(){ alert("–í—ã–≤–æ–¥ –ø–æ–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã–π üöß"); }

    // –†–µ–Ω–¥–µ—Ä –±–∞–ª–∞–Ω—Å–æ–≤
    function renderWallet(){
      let container = document.getElementById('walletBalances');
      container.innerHTML = '';
      let total = 0;
      let rates = { USDT:1, BTC:27000, ETH:1700, BNB:230 };
      for(let coin in balances){
        let value = balances[coin];
        container.innerHTML += `<div class='flex justify-between'><span>${coin}</span><span>${value.toFixed(6)}</span></div>`;
        total += value * rates[coin];
      }
      container.innerHTML += `<hr class='my-2'/><div class='flex justify-between font-bold'><span>–ò—Ç–æ–≥–æ –≤ USD</span><span>${total.toFixed(2)} $</span></div>`;
      let from = document.getElementById('walletFrom'); let to = document.getElementById('walletTo');
      from.innerHTML = ''; to.innerHTML = '';
      for(let coin in balances){ from.innerHTML += `<option value='${coin}'>${coin}</option>`; to.innerHTML += `<option value='${coin}'>${coin}</option>`; }
    }

    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
    function convertCoins(e){
      e.preventDefault();
      let from = document.getElementById('walletFrom').value;
      let to = document.getElementById('walletTo').value;
      let amount = parseFloat(document.getElementById('walletAmount').value);
      if(from===to){ alert("–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–Ω—ã–µ –º–æ–Ω–µ—Ç—ã!"); return; }
      if(amount > balances[from]){ alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!"); return; }
      let rates = { USDT:1, BTC:27000, ETH:1700, BNB:230 };
      balances[from]-=amount; let usdValue = amount*rates[from]; let converted=usdValue/rates[to]; balances[to]+=converted;
      renderWallet(); alert(`‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ ${amount} ${from} ‚Üí ${converted.toFixed(6)} ${to}`);
    }

    // –ê–¥—Ä–µ—Å–∞ –¥–µ–ø–æ–∑–∏—Ç–æ–≤
    function showDepositAddress(){
      let coin = document.getElementById('depositCoin').value;
      let addressDiv = document.getElementById('depositAddress');
      let addresses = {
        USDT: 'TKoNcfXsXcBdADqZNAaD9y1FzooS2k6cst',
        BNB: '0xb75277051F1733c621286B258D3510dA1667008A',
        BTC: 'bc1q80ywt5h3j32szkg8c276hak48hp0lqcrp3tkpe',
        ETH: '0x1234567890abcdef1234567890abcdef12345678'
      };
      addressDiv.innerText = addresses[coin] ? `–í–∞—à –∞–¥—Ä–µ—Å –¥–ª—è ${coin}: ${addresses[coin]}` : '';
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä
    async function loadPairs() {
      const res = await fetch('https://api.binance.com/api/v3/ticker/24hr');
      const data = await res.json();
      const tbody = document.getElementById('pairsBody');
      const topAssetsDiv = document.getElementById('topAssets');
      tbody.innerHTML = ''; topAssetsDiv.innerHTML = '';
      const usdtPairs = data.filter(item => item.symbol.endsWith('USDT'));
      usdtPairs.forEach((item, i) => {
        const tr=document.createElement('tr');
        tr.className='hover:bg-cyan-500/20 transition cursor-pointer';
        tr.innerHTML=`<td class='py-2 font-medium text-cyan-300' onclick=\"loadTradingView('${item.symbol}')\">${item.symbol}</td><td class='py-2'>${parseFloat(item.lastPrice).toFixed(4)}</td><td class='py-2 ${item.priceChangePercent>=0?'text-green-400':'text-red-400'}'>${item.priceChangePercent}%</td>`;
        tbody.appendChild(tr);
        if(i<10){ const div=document.createElement('div'); div.className='flex justify-between border-b border-cyan-500/30 pb-1'; div.innerHTML=`<span class='text-cyan-300 font-medium'>${item.symbol}</span><span>${parseFloat(item.lastPrice).toFixed(2)}</span><span class='${item.priceChangePercent>=0?'text-green-400':'text-red-400'}'>${item.priceChangePercent}%</span>`; topAssetsDiv.appendChild(div);}
      });
    }

    function loadTradingView(symbol){
      const iframe=document.getElementById('tradingview_iframe'); iframe.src=`https://s.tradingview.com/widgetembed/?symbol=BINANCE:${symbol}&interval=60&theme=dark&style=1&locale=ru`;
    }

    function toggleTheme(){
      document.body.classList.toggle('light');
      const iframe=document.getElementById('tradingview_iframe');
      iframe.src=iframe.src.includes('theme=dark')?iframe.src.replace('theme=dark','theme=light'):iframe.src.replace('theme=light','theme=dark');
    }

    loadPairs();
  </script>
</body>
</html>
